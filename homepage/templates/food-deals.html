{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title> Restaurant Deals</title>

        <link rel="stylesheet" type="text/css" href="{% static 'homepage/styles.css' %}">

        <style>
            .row{
                display: flex;
                align-items: center;
                justify-content: center;
                margin-top: 20px;
            }            
            /* Float four columns side by side */
            .column {
              float: left;
              width: 25%;
              padding: 0 20px;
            }
            
            /* Clear floats after the columns */
            .row:after {
              content: "";
              display: table;
              clear: both;
            }
            
            /* Responsive columns */
            @media screen and (max-width: 600px) {
              .column {
                width: 100%;
                display: block;
                margin-bottom: 20px;
              }
            }
            
            /* Style the counter cards */
            .card {
              box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
              padding: 10px;
              text-align: center;
              background-color: white;
              border-radius: 5px
            }
            .card:hover {
                box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
             }
            
            </style>
    </head>
    <body>
        <div id="main">
            <header>
                <h1 style = "text-align: center; color: #495867;">Restaurant Deals</h1>
             </header>
            {% include 'navbar.html' %}
        </div>

        <!-- TESTING CODE -->
        <!-- <h3>{ varAllRestaurants }}</h3> -->
        <!-- <h3>{ varAllDeals }}</h3> -->

        <div class="row">








            <!-- Restaurant iteration -->
            {% for restaurant in varAllRestaurants %}
            <div class="column">
              <div class="card">
								<img src="{% static 'homepage/sample_restaurant.jpg' %}" width="100%" alt="My image"/>
                <h3>{{ restaurant.rest_name }} at {{ restaurant.rest_location }}</h3>

                {% for deal in restaurant.deals.all  %}
                  <p>Deals: {{ deal.deal_name }}</p>
                {% endfor %}

              </div>
            </div>
            {% endfor %}







            <div class="column">
              <div class="card">
								<img src="{% static 'homepage/sample_restaurant.jpg' %}" width="100%" alt="My image"/>
                <h3>Restaurant Name</h3>
                <p>Some deal here</p>
              </div>
            </div>
            
            <div class="column">
              <div class="card">
								<img src="{% static 'homepage/sample_restaurant.jpg' %}" width="100%" alt="My image"/>
                <h3>Restaurant Name</h3>
                <p>Another deal</p>
              </div>
            </div>
            
          </div>
          <style>
            Body {
      font-family: Calibri, Helvetica, sans-serif;
      background-color: rgb(131, 159, 244);
    }
            .filterDiv {
              float: left;
              background-color: #003e70;
              color: #ffffff;
              width: 250px;
              line-height: 100px;
              text-align: center;
              margin: 2px;
              display: none;
            }
            
            .show {
              display: block;
            }
            
            .container {
              margin-top: 20px;
              overflow: hidden;
            }
            
            .btn {
              border: none;
              outline: none;
              padding: 12px 16px;
              background-color: #f1f1f1;
              cursor: pointer;
            }
            
            .btn:hover {
              background-color: #ddd;
            }
            
            .btn.active {
              background-color: #666;
              color: white;
            }
            </style>
            <body>
            
            <h2>Filter Different restaurants and Deals</h2>
            
            <div id="myBtnContainer">
              <button class="btn active" onclick="filterSelection('all')"> Show all</button>
              <button class="btn" onclick="filterSelection('restaurants')"> restaurants</button>
              <button class="btn" onclick="filterSelection('Deals')"> Deals</button>
              <button class="btn" onclick="filterSelection('Locations')"> Locations</button>
            </div>
            
            <div class="container">
              <div class="filterDiv restaurants">Perkins</div>
              <div class="filterDiv restaurants">Copper Top</div>
              <div class="filterDiv restaurants">The Rig</div>
              <div class="filterDiv restaurants">laurenzo's</div>
              <div class="filterDiv restaurants">464</div>
              <div class="filterDiv restaurants">Mando's</div>
              <div class="filterDiv restaurants">ChicagoPizzaChicken</div>
              <div class="filterDiv restaurants">Paradise pub</div>
              <div class="filterDiv restaurants">Fontano's subs</div>
              <div class="filterDiv restaurants">BIBIBOP Asian grill</div>
              <div class="filterDiv restaurants">Bustan NYC</div>
              <div class="filterDiv restaurants">Victory Sweet shop</div>
              <div class="filterDiv restaurants">Grand Lux Cafe</div>
              <div class="filterDiv restaurants">Boba Burger</div>
              <div class="filterDiv restaurants">Coolios</div>
              <div class="filterDiv restaurants">Subway</div>
              <div class="filterDiv restaurants">Mega Chai</div>
              <div class="filterDiv Deals">10% off</div>
              <div class="filterDiv Deals">25% off</div>
              <div class="filterDiv Deals">Buy 1 Drink, get free dessert</div>
              <div class="filterDiv Deals">33% off</div>
              <div class="filterDiv Deals">Buy 1, get 3 free</div>
              <div class="filterDiv Deals">Buy 1, get 1 free</div>
              <div class="filterDiv Deals">50% off</div>
              <div class="filterDiv Locations">Maddison Wisconsin</div>
              <div class="filterDiv Locations">Chicago Illinois</div>
              <div class="filterDiv Locations">Morton Grove Illinois</div>
              <div class="filterDiv Locations">Los Angeles California</div>
              <div class="filterDiv Locations">Queens New York</div>
              <div class="filterDiv Locations">Des Plaines Illinois</div>
              <div class="filterDiv Locations">Houston Texas</div>
              <div class="filterDiv Locations">Albuquerque</div>
            </div>
            
            <script>
            filterSelection("all")
            function filterSelection(c) {
              var x, i;
              x = document.getElementsByClassName("filterDiv");
              if (c == "all") c = "";
              for (i = 0; i < x.length; i++) {
                RemoveClass(x[i], "show");
                if (x[i].className.indexOf(c) > -1) AddClass(x[i], "show");
              }
            }
            
            function AddClass(element, name) {
              var i, arr1, arr2;
              arr1 = element.className.split(" ");
              arr2 = name.split(" ");
              for (i = 0; i < arr2.length; i++) {
                if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
              }
            }
            
            function RemoveClass(element, name) {
              var i, arr1, arr2;
              arr1 = element.className.split(" ");
              arr2 = name.split(" ");
              for (i = 0; i < arr2.length; i++) {
                while (arr1.indexOf(arr2[i]) > -1) {
                  arr1.splice(arr1.indexOf(arr2[i]), 1);     
                }
              }
              element.className = arr1.join(" ");
            }
    
            var btnContainer = document.getElementById("myBtnContainer");
            var btns = btnContainer.getElementsByClassName("btn");
            for (var i = 0; i < btns.length; i++) {
              btns[i].addEventListener("click", function(){
                var current = document.getElementsByClassName("active");
                current[0].className = current[0].className.replace(" active", "");
                this.className += " active";
              });
            }
            </script>
            
        
    </body>
</html>
